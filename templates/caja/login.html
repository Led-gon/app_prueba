{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Login - Shatalito Django</title>
    <link rel="stylesheet" href="{% static 'caja/style.css' %}">
</head>
<body>
    <div class="container login-container">
        <h1>Iniciar Sesión (Django)</h1>
        {% if messages %}
            {% for message in messages %}
                <p class="message {{ message.tags }}">{{ message }}</p>
            {% endfor %}
        {% endif %}
         {% if form.errors or error_message %}
            <p class="message error">
                {% if error_message %}{{ error_message }}{% endif %}
                {% for field, errors in form.errors.items %}
                    {% for error in errors %}{{ error }} {% endfor %}
                {% endfor %}
            </p>
        {% endif %}

        <form id="loginForm">
            <div>
                <label for="username">Usuario:</label>
                <input type="text" id="username" name="username" required>
            </div>
            <div>
                <label for="password">Contraseña:</label>
                <input type="password" id="password" name="password" required>
            </div>
            <button type="submit">Ingresar</button>
        </form>
        <p id="loginMessage" class="message"></p>
    </div>
    <script>
        const LOGIN_URL = "{% url 'caja:login' %}"; // Pasar URL a JS
        const CSRF_TOKEN = "{{ csrf_token }}"; // CSRF token para JS
    </script>
    <script src="{% static 'caja/login_django.js' %}"></script>
</body>
</html>